% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/0-build_srr_and_M.R
\name{build_srr}
\alias{build_srr}
\title{Specify the stock-recruit relationship (SRR) for Rceattle}
\usage{
build_srr(
  srr_model = 0,
  srr_forecast_model = srr_model,
  proj_mean_rec = TRUE,
  srr_mse_switchyr = NULL,
  srr_hat_styr = NULL,
  srr_hat_endyr = NULL,
  srr_est_mode = 1,
  srr_prior = 4,
  srr_prior_sd = 1,
  srr_indices = NA,
  Bmsy_lim = NA
)
}
\arguments{
\item{srr_model}{Stock recruit function to be used for hindcast estimation of Rceattle (see @description below). Default = 0}

\item{srr_forecast_model}{stock recruit function for projection, reference points, and penalties to be used for Rceattle (see below). When \code{srr_model == 0}, it treats treat the stock-recruit curve as an additional penalty onto the annualy estimated recruitment from the hindcast (sensu AMAK and Jim Ianelli's pollock model). If \code{srr_model > 0} then \code{srr_forecast_model = srr_model} and no additional penalty is included.}

\item{proj_mean_rec}{Project the model using: 0 = mean recruitment (average R of hindcast) or 1 = SRR(omega, srr_devs)}

\item{srr_mse_switchyr}{is used for MSEs to deal with AMAK and Jim Ianelli's estimation where a stock recruit function is estimated as an additional penalty whe srr_model = 0 and srr_forecast_model > 0. It tells the model in what year to switch to the stock recruit function.}

\item{srr_hat_styr}{Integer. The first year used for deriving the forecast recruitment function (e.g. mean recruitment). It will add additional penalties sensu AMAK and Jim Ianelli's pollock model when \code{srr_forecast_model > 0} and \code{srr_model = 0}, starting at \code{styr} + 1. Defaults to $styr + 1$ in $data_list$. Useful if environmental data used to condition stock-recruit relationships is not available until end-year, but projections are desired.}

\item{srr_hat_endyr}{Integer. The last year used f the forecast recruitment function (e.g. mean recruitment). It will add an additional penalties sensu AMAK and Jim Ianelli's pollock model when \code{srr_forecast_model > 0} and \code{srr_model = 0}. Recruitment Defaults to $endyr$ in $data_list$. Useful if environmental data used to condition stock-recruit relationships is not available until end-year, but projections are desired.}

\item{srr_est_mode}{Switch to determine estimation mode. 0 = fix alpha to prior mean, 1 = freely estimate alpha and beta, 2 = use lognormally distributed prior for alpha (Ricker) or steepness (Beverton), 3 = use beta distributed prior for steepness (Beverton) given mean and sd.}

\item{srr_prior}{mean for normally distributed prior for stock-recruit parameter}

\item{srr_prior_sd}{Prior standard deviation for stock-recruit parameter}

\item{srr_indices}{vector or single index indicating the columns (excluding "Year") of \code{env_data} to use in a environmentally driven stock recruit curve.}

\item{Bmsy_lim}{Upper limit for Ricker based SSB-MSY (e.g 1/Beta). Will add a likelihood penalty if beta is estimated above this limit. Default \code{NA} is not used.}
}
\value{
A \code{list} containing the stock recruitment relationship settings
}
\description{
\strong{Stock recruitment relationships currently implemented in Rceattle:}
\itemize{
\item \code{srr_model = 0} No stock recruit relationship. Recruitment is a function of R0 and annual deviates (i.e. steepness = 0.99).
\deqn{R_y = exp(R0 + R_{dev,y})}
\item \code{srr_model = 1} Environmentally driven recruitment without stock recruit relationship
\deqn{R_y = exp(R0 + R_{dev,y} + X * \beta_X)}
\item \code{srr_model = 2} Beverton-holt stock-recruitment relationship
\deqn{R_y = \frac{\alpha_{srr} * SB_{y-minage}}{1+\beta_{srr} * SB_{y-minage}}}
\item \code{srr_model = 3} Beverton-holt stock-recruitment relationship with environmental covariates impacting larval survival rate and prior is on alpha.
\deqn{R_y = \frac{\alpha_{srr} * e^{X * \beta_X} * SB_{y-minage}}{1+\beta_{srr} * SB_{y-minage}}}
\item \code{srr_model = 4} Ricker stock-recruitment relationship
\deqn{R_y = \alpha_{srr} * SB_{y-minage} * exp(-\beta_{srr} * SB_{y-minage})}
\item \code{srr_model = 5} Ricker stock-recruitment relationship with environmental covariates impacting larval survival rate and prior is on alpha.
\deqn{R_y = \alpha_{srr} e^{X * \beta_X} * SB_{y-minage} * exp(-\beta_{srr} * SB_{y-minage})}
}

When \code{srr_forecast_model > 0} and \code{srr_model = 0} recruitment in the hindcast is estimated as in \code{srr_model = 0} \deqn{R_y = exp(R0 + R_{dev,y})}, but an additional stock recruitment relationship defined by \code{srr_forecast_model} is estimated between \code{srr_hat_styr} and \code{srr_hat_styr} and treated as an additional penalty. The stock recruitment relationship defined by \code{srr_forecast_model} is then used in the projection.
}
